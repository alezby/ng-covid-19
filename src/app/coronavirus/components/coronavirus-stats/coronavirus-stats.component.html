<h2 class="title is-spaced" id="tableDescription">Statistiques et cas Coronavirus COVID-19
  {{selectedCountry.translation}} </h2>
<ng-container *ngIf="mainStats">
  <div class="content">
    <p *ngIf="mainStats.lastUpdate">
      Mis à jour le <strong>{{mainStats.lastUpdate | date: 'dd/MM/yyyy à HH:MM'}}</strong>
    </p>
    <p *ngIf="franceStats?.lastUpdate">
      Mis à jour le <strong>{{franceStats?.lastUpdate | date: 'dd/MM/yyyy'}}</strong> par Santé publique
    </p>
    <div class="tile is-ancestor">
      <div class="tile is-parent">
        <article class="tile is-child notification is-warning" [class.active-map]="selectedCountry.country !== 'France'"
          (click)="updateMap('cases')">
          <p class="title">{{mainStats.cases | number: '' :'fr-FR'}}
            <span class="increase">
              {{mainStats.todayCases | symbolNumber }}
            </span>
          </p>
          <p class="subtitle">Confirmés</p>
        </article>
      </div>
      <div class="tile is-parent" *ngIf="franceStats?.statsByGender?.total?.hospital">
        <article class="tile is-child notification hospital" [class.active-map]="selectedCountry.country === 'France'"
          (click)="updateMap('hospital')">
          <p class="title">{{franceStats?.statsByGender?.total?.hospital | number: '' :'fr-FR'}}
            <span class="increase">
              {{franceStats?.statsByGender?.total?.todayHospital | symbolNumber }}
            </span>
          </p>

          <p class="subtitle">Hospitalisations en cours</p>
        </article>
      </div>
      <div class="tile is-parent" *ngIf="franceStats?.statsByGender?.total.reanimation">
        <article class="tile is-child notification reanimation"
          [class.active-map]="selectedCountry.country === 'France'" (click)="updateMap('reanimation')">
          <p class="title">{{franceStats.statsByGender?.total?.reanimation | number: '' :'fr-FR'}}
            <span class="increase">
              {{franceStats?.statsByGender?.total?.todayReanimation | symbolNumber }}
            </span>
          </p>

          <p class="subtitle">Réanimations en cours</p>
        </article>
      </div>
      <div class="tile is-parent">
        <article class="tile is-child notification is-danger active-map" (click)="updateMap('deaths')">
          <p class="title">
            <ng-container *ngIf="!franceStats">
              {{mainStats.deaths | number: '' :'fr-FR'}}
            </ng-container>
            <ng-container *ngIf="franceStats">
              {{franceStats.statsByGender?.total?.deaths | number: '' :'fr-FR'}}
            </ng-container>
            <span class="increase">
              {{mainStats.todayDeaths | symbolNumber}}
            </span>
          </p>
          <p class="subtitle">Morts</p>
        </article>
      </div>
      <div class="tile is-parent">
        <article class="tile is-child notification is-success active-map" (click)="updateMap('recovered')">
          <p class="title">
            <ng-container *ngIf="franceStats">
              {{franceStats.statsByGender?.total?.recovered | number: '' :'fr-FR'}}
              <span class="increase">
                {{franceStats.statsByGender?.total?.todayRecovered | symbolNumber }}
              </span>
            </ng-container>
            <ng-container *ngIf="!franceStats">
              {{mainStats.recovered | number: '' :'fr-FR'}}
            </ng-container>
          </p>
          <p class="subtitle">Guéris</p>
        </article>
      </div>
    </div>
  </div>
</ng-container>
